<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Authored By: [[P- Brendan Langen]]
[[P- Iian Neill]]&rsquo;s goal with [[Codex OS]] is to build a system for relation - the principle of relatedness or [[sensemaking]]."><meta property="og:title" content="Standoff Annotation"><meta property="og:description" content="Authored By: [[P- Brendan Langen]]
[[P- Iian Neill]]&rsquo;s goal with [[Codex OS]] is to build a system for relation - the principle of relatedness or [[sensemaking]]."><meta property="og:type" content="website"><meta property="og:image" content="https://scalingsynthesis.com/icon.png"><meta property="og:url" content="https://scalingsynthesis.com/Standoff-Annotation/"><meta property="og:width" content="200"><meta property="og:height" content="200"><meta name=twitter:card content="summary"><meta name=twitter:title content="Standoff Annotation"><meta name=twitter:description content="Authored By: [[P- Brendan Langen]]
[[P- Iian Neill]]&rsquo;s goal with [[Codex OS]] is to build a system for relation - the principle of relatedness or [[sensemaking]]."><meta name=twitter:image content="https://scalingsynthesis.com/icon.png"><meta name=twitter:site content="RobertHaisfield"><title>Standoff Annotation</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://scalingsynthesis.com//icon.png><link href=https://scalingsynthesis.com/styles.5c90a49c0c9910aa9bc4f15f973c84e5.min.css rel=stylesheet><link href=https://scalingsynthesis.com/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://scalingsynthesis.com/js/darkmode.db424db70f01a6218647677862e8db6e.min.js></script>
<script src=https://scalingsynthesis.com/js/util.a0ccf91e1937fe761a74da4946452710.min.js></script>
<link rel=preload href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css as=style onload='this.onload=null,this.rel="stylesheet"' integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script async src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script async src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script async src=https://scalingsynthesis.com/js/popover.71d23054b5fdcbfef1f03f393af0e92a.min.js></script>
<script defer src=https://scalingsynthesis.com/js/code-title.ce4a43f09239a9efb48fee342e8ef2df.min.js></script>
<script defer src=https://scalingsynthesis.com/js/clipboard.2913da76d3cb21c5deaa4bae7da38c9f.min.js></script>
<script defer src=https://scalingsynthesis.com/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const SEARCH_ENABLED=!1,LATEX_ENABLED=!0,PRODUCTION=!0,BASE_URL="https://scalingsynthesis.com/",fetchData=Promise.all([fetch("https://scalingsynthesis.com/indices/linkIndex.e22cc4566cb1259412e42a787c84136a.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://scalingsynthesis.com/indices/contentIndex.37e438c5b61afd3b872914d6726b8d9e.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addCollapsibleCallouts(),initPopover("https://scalingsynthesis.com",!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://scalingsynthesis.com",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}var i=document.getElementsByClassName("mermaid");i.length>0&&import("https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs").then(e=>{e.default.init()});function a(n){const e=n.target,t=e.className.split(" "),s=t.includes("broken"),o=t.includes("internal-link");plausible("Link Click",{props:{href:e.href,broken:s,internal:o,graph:!1}})}const r=document.querySelectorAll("a");for(link of r)link.className.includes("root-title")&&link.addEventListener("click",a,{once:!0})},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'â€™':"'"},throwOnError:!1})}</script><script>window.Million={navigate:e=>window.location.href=e,prefetch:()=>{}},window.addEventListener("DOMContentLoaded",()=>{init(),render()})</script><script defer data-domain=scalingsynthesis.com src=https://plausible.io/js/script.js></script>
<script>window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script></head><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://scalingsynthesis.com/js/full-text-search.e6e2e0c213187ca0c703d6e2c7a77fcd.min.js></script><div class=singlePage><header><h1 id=page-title><a class=root-title href=https://scalingsynthesis.com/>ðŸª´ Scaling Synthesis</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>Standoff Annotation</h1><p class=meta>Last updated
May 21, 2022
<a href=https://github.com/jackyzha0/quartz/tree/hugo/content/Standoff%20Annotation.md rel=noopener>Edit Source</a></p><ul class=tags></ul><p>Authored By: <a href=/P-Brendan-Langen rel=noopener class=internal-link data-src=/P-Brendan-Langen>P- Brendan Langen</a></p><p><a href=/P-Iian-Neill rel=noopener class=internal-link data-src=/P-Iian-Neill>P- Iian Neill</a>&rsquo;s goal with <a href=/Codex-OS rel=noopener class=internal-link data-src=/Codex-OS>Codex OS</a> is to build a system for <em>relation</em> - the principle of relatedness or <a href=/sensemaking rel=noopener class=internal-link data-src=/sensemaking>sensemaking</a>. To achieve this, he uses a modified data structure called standoff annotation, which allows information to respect multiple interpretations.</p><p>This concept carries a ton of implications, but namely that an entity can be defined and connected in multiple locations.</p><p>Most databases require an entity to carry the same relationship across the entirety of the database. This causes inherent challenges in extending knowledge across domain boundaries, as entities often carry different definitions - and thus, relationships.</p><p>Codex OS is designed to enable users to frame things in multiple ways (or layers) without breaking the structure of their graph.</p><p>Standoff annotation allows users to annotate atop an entity, which is stored separately from the text, yet still retains the relationship to the initial text.
<a href=https://github.com/argimenes/standoff-properties-editor rel=noopener>https://github.com/argimenes/standoff-properties-editor</a></p><blockquote><p>A standoff property is a property that &lsquo;stands off&rsquo; from the text it refers to, that is stored apart from the text source.
A property in this context is a data structure that represents a range of characters in the text along with information relevant to the annotation, such as the annotation type. Annotations can be of any type, e.g. stylistic (italics; bold; underline), semantic (line; paragraph; page), or linked entities (database record; URL).</p></blockquote><blockquote><p>XML does not cope well with <a href=https://en.wikipedia.org/wiki/Overlapping_markup rel=noopener>overlapping annotations</a>. This is because the tree structure of XML mandates that an overlapping annotation (two or more annotations that overlap the same text sequence) cross one or more branches of that tree structure.
These problems disappear, however, if the text and its annotation properties are kept entirely separate. The text, then, is stored in a raw or unformatted state, annotated by a collection of discrete standoff properties.</p></blockquote><p>Technical challenges from standoff properties can be mitigated by creating linked-list data structures.</p><blockquote><p>The technical challenge posed by standoff properties is that they require indexes to link annotations to the words in the text, which suggests that the text cannot be changed without breaking the annotations. However, by using a linked list-style structure composed of SPANs it is possible to create properties that reference characters by pointers, allowing text to be freely inserted or deleted without breaking the annotations. Indexes are only calculated at the end of the session, when the annotated text is to be exported (and presumably saved).</p></blockquote><p><a href=/P-Iian-Neill rel=noopener class=internal-link data-src=/P-Iian-Neill>P- Iian Neill</a> suggests that since machine generated annotations could enable a wealth of annotations, a layering structure can act as a focusing frame.</p><blockquote><p>As there is no defined limit on the number or types of annotations that can be added to a text, there is the chance that texts may become visually cluttered with annotations. To address this, there is an option to assign a user-defined &rsquo;layer&rsquo; to an annotation for the purpose of grouping them. Layers can be shown and hidden at will, thus reducing clutter. This is particularly helpful when it comes to computer-generated annotations, such as syntactic or semantic annotations created by an NLP library or other text analysis tools.</p></blockquote><p>Adding a graph database atop standoff properties affords compounding benefits.</p><blockquote><p>While standoff properties can be stored in any format storing them as LOD entities in a graph database vastly increases their potential. For example, if you were searching for all references to a person you would not only find the texts but the exact character positions in the text. If you expanded your query from a person like Leonardo da Vinci, say, to all artists you could see every instance an artist is mentioned in any text
Queries could also be combined across annotation types. For example, if you had the syntax tree of a text you could find every occurence of a term within a given syntactical unit. The more annotation types you record, the greater the number of text mining options become available.</p></blockquote><p>See also this thread from <a href=/P-Iian-Neill rel=noopener class=internal-link data-src=/P-Iian-Neill>P- Iian Neill</a> discussing advantages of using standoff annotation in conjunction with a graph database:</p><ul><li><a class="internal-link broken">Twitter thread</a> <a href=/Codex-OS rel=noopener class=internal-link data-src=/Codex-OS>Codex OS</a>: An exploration of some of the things you can do with standoff markup in Codex that you can&rsquo;t do in certain &mldr; other systems.<ul><li>THREAD</li><li>ðŸ‘‡ <a href=https://twitter.com/codexeditor/status/1302585628178051075 rel=noopener>*</a></li><li>no <code>[[brackets]]</code> ((of)) {{any}} kind needed!<ul><li>no need to pick one name for your concept: just highlight the text to create/link to it</li><li>no need to rename embeds later</li><li>no need to define aliases</li><li>find a concept not just by name but by <em>any term ever used to refer to it</em> <a href=https://twitter.com/codexeditor/status/1302585629922877443 rel=noopener>*</a></li></ul></li><li>markup can intersect other markup without limit<ul><li>can markup inside words, single letters, even between letters</li><li>markup doesn&rsquo;t interfere with the text, so can easily copy-paste the text without markup if desired <a href=https://twitter.com/codexeditor/status/1302585631780958216 rel=noopener>*</a></li></ul></li><li>all markup linked to the user who added/changed it<ul><li>users can collaboratively markup without worrying about trashing the doc with clashing <code>[[brackets]]</code></li><li>AI can add its own markup without clashing</li><li>easily filter markup in and out by the user, by type, by properties <a href=https://twitter.com/codexeditor/status/1302585633546747905 rel=noopener>*</a></li></ul></li><li>marking up text creates any kind of entity you like in the graph, not just pages or text blocks<ul><li>graph entities can have properties, traits, user-defined relationships, be linked to activities</li><li>you define entities from the bottom up from your texts <a href=https://twitter.com/codexeditor/status/1302585635421564928 rel=noopener>*</a></li></ul></li><li>markup is basically handled like a web component: it&rsquo;s not just data, it can also have behaviours, life cycle<ul><li>markup can call out to APIs</li><li>markup can be self-animating #NoCode: no JS or CSS needed, just click a button/hit a key <a href=https://twitter.com/codexeditor/status/1302588233310588930 rel=noopener>*</a></li></ul></li><li>markup not stored as HTML embedded in text so poses no XSS risk<ul><li>new markup can be easily written in the API, from simple styling, to animation, to semantic links to the knowledge graph</li><li>markup links entities and texts in the graph together into one giant transclusive web <a href=https://twitter.com/codexeditor/status/1302588235613310979 rel=noopener>*</a></li></ul></li><li>pick a concept (like &ldquo;markup&rdquo;) and see all <em>other</em> concepts mentioned in any lines in your graph where &ldquo;markup&rdquo; appears - in less than a second<ul><li>pick a concept and find all lines where all things <em>related to that concept</em> appear</li><li>did I mention you can define relationships? <a href=https://twitter.com/codexeditor/status/1302591073919795200 rel=noopener>*</a></li></ul></li><li>did I mention you can define traits?<ul><li>a trait is like a type or class but can also go sideways as well up/down</li><li>you can build up an entity from traits <em>you</em> define: man; woman; big; small; acidic; monadic; libertarian; American; any trait you can think up <a href=https://twitter.com/codexeditor/status/1302595687503159297 rel=noopener>*</a></li></ul></li><li>traits make it easy to perform fuzzy searches<ul><li>can&rsquo;t remember the <em>name</em> of that French architect? Just query for the <em>traits</em> &ldquo;French&rdquo; and &ldquo;architect&rdquo;</li><li>or how about finding that company connected to that dev you worked with one time? Just do a relationship search <a href=https://twitter.com/codexeditor/status/1302595689428299777 rel=noopener>*</a></li></ul></li><li>did I mention you can define your own relationships?<ul><li>create them directly from the text by point and click or from the graph view itself</li><li>clicking an arrow in the graph even <em>transcludes the line of text</em> where you made that relationship</li><li>total text/graph integration! <a href=https://twitter.com/codexeditor/status/1302595691173224456 rel=noopener>*</a></li></ul></li><li>did I mention you can also define properties?<ul><li>you can add properties to any entity. Is your entity a place? Add lat/long. A video, image, PDF, etc.? Add a URL. Need a new type? Just define it</li><li>speaking of multimedia, now all your media can be in a graph <a href=https://twitter.com/codexeditor/status/1302598731041177606 rel=noopener>*</a></li></ul></li><li>did I mention you can also create timelines in Codex?<ul><li>you can define events involving multiple entities occuring at a point in time</li><li>if any entity (person, place, idea, etc.) is linked to an event you can find all events it appears in</li><li>you can sync map + timeline views <a href=https://twitter.com/codexeditor/status/1302600578116190210 rel=noopener>*</a></li></ul></li><li>and you can mix texts, videos, images, PDFs, iframes, and dozens of other windows in a web-based desktop<ul><li>you can make connections spatially</li><li>you can snapshot all windows on screen and reload them later, picking up a thought trail where you left off <a href=https://twitter.com/codexeditor/status/1302610597184299010 rel=noopener>*</a></li></ul></li><li>To cap off for now, you may be thinking, &ldquo;OK, sounds good, but standoff texts are static and can&rsquo;t be changed. You can&rsquo;t write in them.&rdquo;<ul><li>This problem was fixed in Codex in 2018. You can change the text freely without breaking standoff.</li><li>And do it in a WYSWIG editor! <a href=https://twitter.com/codexeditor/status/1302616066774896640 rel=noopener>*</a></li></ul></li><li>PS.<ul><li>You can also link two blocks of text in different documents and write a note linking them. You can transclude from the source to the target or vice versa.</li><li>Not a block copy: live transclusion.</li><li>In fact, you can link many-to-many blocks of text, if so desired. <a href=https://twitter.com/codexeditor/status/1302617530976989184 rel=noopener>*</a></li></ul></li><li>Another practical advantage of standoff is that you can write code to segment your text into sentences and/or paragraphs using regex &mldr; BUT even if the regex pattern was off a little the segmentation won&rsquo;t break the text because there&rsquo;s no embedded markup to break it. <a href=https://twitter.com/codexeditor/status/1309593731310301184 rel=noopener>*</a></li></ul></li></ul></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li><a href=/Q-How-do-you-scale-and-distribute-synthesis/ data-ctx="Standoff Annotation" data-src=/Q-How-do-you-scale-and-distribute-synthesis class=internal-link>Q- How do you scale and distribute synthesis</a></li><li><a href=/Q-What-is-the-data-structure-of-a-graph-built-to-facilitate-decentralized-knowledge-synthesis/ data-ctx="Standoff Annotation" data-src=/Q-What-is-the-data-structure-of-a-graph-built-to-facilitate-decentralized-knowledge-synthesis class=internal-link>Q- What is the data structure of a graph built to facilitate decentralized knowledge synthesis</a></li></ul></div></div><div id=contact_buttons><footer><p>Made by Rob Haisfield, Joel Chan, Brendan Langen using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, Â© 2023</p><ul><li><a href=https://scalingsynthesis.com/>Home</a></li><li><a href=https://twitter.com/RobertHaisfield>Twitter</a></li><li><a href=https://github.com/classicrob/quartz>Github</a></li></ul></footer></div><script defer src=https://cdn.commento.io/js/commento.js></script><div id=commento></div></div></body></html>